<!DOCTYPE html>

<html>

  <head>

    <title>Audit Log of QR Code Scans</title>

    <style>

      table, th, td {

        border: 1px solid black;

        border-collapse: collapse;

        padding: 5px;

      }

    </style>

  </head>

  <body>

    <h1>Audit Log of QR Code Scans</h1>

    <table>

      <tr>

        <th>Name</th>

        <th>Timestamp</th>

      </tr>

      <tbody id="log"></tbody>

    </table>

    <script>

      // Store the logs in local storage

      if (!localStorage.getItem("logs")) {

        localStorage.setItem("logs", JSON.stringify([]));

      }

      // Get the logs from local storage and display them in the table

      const logs = JSON.parse(localStorage.getItem("logs"));

      const logTable = document.getElementById("log");

      for (const log of logs) {

        const row = document.createElement("tr");

        const nameCell = document.createElement("td");

        nameCell.innerText = log.name;

        row.appendChild(nameCell);

        const timestampCell = document.createElement("td");

        timestampCell.innerText = log.timestamp;

        row.appendChild(timestampCell);

        logTable.appendChild(row);

      }

      // Add a new log when the QR code is scanned

      const form = document.createElement("form");

      form.onsubmit = function(event) {

        event.preventDefault();

        const name = document.getElementById("name").value;

        const timestamp = new Date().toLocaleString();

        logs.push({ name, timestamp });

        localStorage.setItem("logs", JSON.stringify(logs));

        location.reload();

      };

      const nameLabel = document.createElement("label");

      nameLabel.innerText = "Name:";

      form.appendChild(nameLabel);

      const nameInput = document.createElement("input");

      nameInput.id = "name";

      form.appendChild(nameInput);

      const submitButton = document.createElement("button");

      submitButton.innerText = "Add Entry";

      form.appendChild(submitButton);

      document.body.appendChild(form);

    </script>

  </body>

</html>

